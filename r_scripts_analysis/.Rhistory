rnorm(n=500, m=1, sd=1)
rnorm(n=20, m=8, sd=1)
x = rnorm(n=20, m=8, sd=1)
x = <- round(
runif(5, min=0, max=1)
, digits = 2
)
x <- round(x, digits=2)
x
x = rnorm(n=20, m=8, sd=1)
x <- round(x, digits=2)
binnedSamples <- cut( x, breaks = c(1, 2, 3, 4, 5, 7, 8, 9, 10, 11) )
binnedSamples
tapply( x, binnedSamples, sum )
x = rnorm(n=20, m=8, sd=1)
x <- round(x, digits=2)
binnedSamples <- cut( x, breaks = c(1, 2, 3, 4, 5, 7, 8, 9, 10, 11) )
tapply( x, binnedSamples, sum )
x = rnorm(n=20, m=8, sd=1)
x <- round(x, digits=2)
binnedSamples <- cut( x, breaks = c(1, 2, 3, 4, 5, 7, 8, 9, 10, 11) )
table(binnedSamples)
x = rnorm(n=200, m=8, sd=1)
x <- round(x, digits=2)
binnedSamples <- cut( x, breaks = c(1, 2, 3, 4, 5, 7, 8, 9, 10, 11, 12, 13) )
table(binnedSamples)
x = rnorm(n=200, m=8, sd=1)
x <- round(x, digits=2)
binnedSamples <- cut( x, b=8 )
table(binnedSamples)
x = rnorm(n=200, m=8, sd=1)
x <- round(x, digits=2)
binnedSamples <- cut( x, b=10 )
table(binnedSamples)
x = rnorm(n=200, m=8, sd=1)
x <- round(x, digits=2)
binnedSamples <- cut( x, b=12 )
table(binnedSamples)
x = rnorm(n=200, m=8, sd=1)
x <- round(x, digits=2)
#binnedSamples <- cut( x, b=12 )
binnedSamples <- cut( x, breaks = c(1, 2, 3, 4, 5, 7, 8, 9, 10, 11, 12, 13) )
table(binnedSamples)
x = rnorm(n=10, m=70, sd=3)
x <- round(x, digits=2)
x
x = rnorm(n=15, m=70, sd=3)
x <- round(x, digits=2)
x
#binnedSamples <- cut( x, b=12 )
#binnedSamples <- cut( x, breaks = c(1, 2, 3, 4, 5, 7, 8, 9, 10, 11, 12, 13) )
#table(binnedSamples)
summary(x)
x = rnorm(n=15, m=3, sd=3)
x <- round(x, digits=1)
x
x = rnorm(n=15, m=3, sd=2)
x <- round(x, digits=0)
x
x = rnorm(n=20, m=3, sd=2)
x <- round(x, digits=0)
x
x = rnorm(n=25, m=3, sd=2)
x <- round(x, digits=0)
x
x = rnorm(n=25, m=3, sd=2)
x <- round(x, digits=0)
x
x = rnorm(n=25, m=3, sd=1)
x <- round(x, digits=0)
x
#binnedSamples <- cut( x, b=12 )
#binnedSamples <- cut( x, breaks = c(1, 2, 3, 4, 5, 7, 8, 9, 10, 11, 12, 13) )
#table(binnedSamples)
summary(x)
x = rnorm(n=26, m=3, sd=1)
x <- round(x, digits=0)
x
#binnedSamples <- cut( x, b=12 )
#binnedSamples <- cut( x, breaks = c(1, 2, 3, 4, 5, 7, 8, 9, 10, 11, 12, 13) )
#table(binnedSamples)
summary(x)
mad(x)
var(x)
mamad(x, center = median(x), constant = 1.4826, na.rm = FALSE,
low = FALSE, high = FALSE)
mad(x, center = median(x), constant = 1.4826, na.rm = FALSE, low = FALSE, high = FALSE)
mad(x, center = mean(x), constant = 1.4826, na.rm = FALSE, low = FALSE, high = FALSE)
mad(x, center = median(x), constant = 1, na.rm = FALSE, low = FALSE, high = FALSE)
mad(x, center = mean(x), constant = 1, na.rm = FALSE, low = FALSE, high = FALSE)
mad(x, center = median(x), constant = 1, na.rm = FALSE, low = FALSE, high = FALSE)
mad(x, center = mean(x), constant = 1, na.rm = FALSE, low = FALSE, high = FALSE)
x <- c(3, 2, 3, 2, 2, 6, 5, 2, 5, 4, 2, 3, 4, 4, 4, 4, 3, 4, 3, 5, 3, 4, 4, 5, 2, 1)
#binnedSamples <- cut( x, b=12 )
#binnedSamples <- cut( x, breaks = c(1, 2, 3, 4, 5, 7, 8, 9, 10, 11, 12, 13) )
#table(binnedSamples)
summary(x)
mad(x)
var(x)
mad(x, center = median(x), constant = 1, na.rm = FALSE, low = FALSE, high = FALSE)
mad(x, center = mean(x), constant = 1, na.rm = FALSE, low = FALSE, high = FALSE)
y = x - 3.5
y
abs(y)
mean(abs(y))
median(abs(y))
median(x)
z = abs(x - median(x))
mean(z)
x
z
k = abs(x - mean(x))
mean(k)
k = abs(x - mean(x))
k
mean(k)
z = abs(x - median(x))
mean(z)
z = abs(x - median(x))
z
mean(z)
k = abs(x - mean(x))
k
mean(k)
x=c(3,5,7,9,11,13)
x
x = rnorm(n=26, m=7, sd=3)
x = rnorm(n=15, m=7, sd=3)
x <- round(abs(x), digits=0)
x
x <- c(3,  5,  9,  7,  1,  6,  4,  4,  5,  7,  9,  8,  4,  8, 18)
x
boxplot(x)
x <- c(3,  5,  9,  7,  0,  6,  4,  4,  5,  7,  9,  8,  4,  8, 18)
boxplot(x)
x <- c(  5,  9,  7,  0,  6,  4,  4,  5,  7,  9,  8, 7, 9  8, 18)
boxplot(x)
x <- c(  5,  9,  7,  -4,  6,  4,  4,  5,  7,  9,  8, 7, 9  8, 18)
boxplot(x)
x <- round(abs(x), digits=0)
x
x <- c(  5,  9,  7,  -4,  6,  4,  4,  5,  7,  9,  8, 7, 9  8, 18)
x
x <- c(  5,  9,  7,  -4,  6,  4,  4,  5,  7,  9,  8,  7, 18)
boxplot(x)
x <- c(  5,  9,  7,  0,  6,  4,  4,  5,  7,  9,  8,  7, 18)
boxplot(x)
x <- c(3,  5,  9,  7,  1,  6,  4,  4,  5,  7,  9,  8,  4,  8, 18)
boxplot(x)
x <- c(3,  5,  9,  7,  1,  6, -1,  4,  4,  5,  7,  9,  8,  4,  8, 18)
boxplot(x)
x <- c(3,  5,  9,  7,  1,  6, -2,  4,  4,  5,  7,  9,  8,  4,  8, 18)
boxplot(x)
x <- c(3,  5,  9,  7,  1,  6, -4,  4,  4,  5,  7,  9,  8,  4,  8, 18)
boxplot(x)
x <- c(3,  5,  9,  7,  1,  6, -4,  4,  4,  5,  7,  9,  8,  4,  8, 18)
y = x+4
y
boxplot(7)
boxplot(y)
summary(y)
x <- c(3,  5,  9,  7,  1,  6, -4,  4,  4,  5,  7,  9,  8,  4,  7, 18)
y = x+4
y
boxplot(y)
summary(y)
x = rnorm(n=15, m=7, sd=3)
x <- round(abs(x), digits=0)
x
x <- c(3,  5,  9,  7,  1,  6, -4,  4,  4,  5,  7,  9,  8,  4,  7, 18)
y = x+4
y
boxplot(y)
summary(y)
x <- c(5, 5, 2, 3, 8, 2, 3, 4, 6, 5, 4, 1, 2, 7, 6, 5, 5, 3, 7, 4, 4, 6, 6)
x
sd(x)
summary(x)
setwd(".")
x <- c(5, 5, 2, 3, 8, 2, 3, 4, 6, 5, 4, 1, 2, 7, 6, 5, 5, 3, 7, 4, 4, 6, 6)
x
sd(x)
summary(x)
exp(mean(log(x)))                  # Compute geometric mean manually
install.packages("psych")          # Install psych package
library("psych")
boxplot(x)
x <- c(5, 5, 2, 3, 8, 2, 3, 4, 6, 5, 4, 1, 2, 7, 6, 5, 5, 3, 7, 4, 4, 6, 6, 10)
x
sd(x)
summary(x)
exp(mean(log(x)))                  # Compute geometric mean manually
boxplot(x)
x <- c(5, 5, 2, 3, 8, 2, 3, 4, 6, 5, 4, 1, 2, 7, 6, 5, 5, 3, 7, 4, 4, 6, 6, 15)
x
sd(x)
summary(x)
exp(mean(log(x)))                  # Compute geometric mean manually
boxplot(x)
mode(x)
summary(x)
fe = 1.5 * (6-3)
fe
fe = 1.5 * (6-3)
fe
f1 = q1 - fe
f2 = q3 + fe
q1 = 3
q2 =6
fe = 1.5 * (6-3)
fe
f1 = q1 - fe
f2 = q3 + fe
f1
f3
f2
f2 = q3 + fe
q1 = 3
q3 =6
fe = 1.5 * (6-3)
fe
f1 = q1 - fe
f2 = q3 + fe
f1
f2
summary(x)
setwd("/Users/hugojosebello/Documents/git-repos/twitter-data-scripts-analysis/")
asoc_es <- read.csv("./data/grouped_data_day_mean_tweets_sentimentdata-scraper_asociaciones_2016-2020.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
asoc_es$sentiment = append(0,diff(asoc_es$sentiment))
empresas_es <- read.csv("./data/grouped_data_day_mean_tweets_sentimentdata-scraper_ibex_2018-2020.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
empresas_es$sentiment = append(0,diff(empresas_es$sentiment))
asoc_pe <- read.csv("./data/grouped_data_day_mean_tweets_sentimentdata-scraper_asociaciones_peru-2016-2020.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
asoc_pe$sentiment = append(0,diff(asoc_pe$sentiment))
empresas_pe <- read.csv("./data/grouped_data_day_mean_tweets_sentimentdata-scraper_empresas_peru_2017-2020.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
empresas_pe$sentiment = append(0,diff(empresas_pe$sentiment))
library(lubridate)
asoc_es$normalised_date <- ymd(asoc_es$normalised_date)
empresas_es$normalised_date <- ymd(empresas_es$normalised_date)
asoc_pe$normalised_date <- ymd(asoc_pe$normalised_date)
empresas_pe$normalised_date <- ymd(empresas_pe$normalised_date)
empresas_es<-empresas_es[empresas_es$normalised_date >= "2017-07-01",]
empresas_pe<-empresas_pe[empresas_pe$normalised_date >= "2017-07-01",]
asoc_pe<-asoc_pe[asoc_pe$normalised_date >= "2017-07-01",]
asoc_es<-asoc_es[asoc_es$normalised_date >= "2017-07-01",]
empresas_es
library(ggplot2)
ggplot(asoc_es, aes(normalised_date, sentiment)) + geom_line() + xlab("") + ylab("variation of average daily sentiment\n main business associations Spain")
ggplot(asoc_pe, aes(normalised_date, sentiment)) + geom_line() + xlab("") + ylab("variation of average daily sentiment\n main business associations Peru")
ggplot(asoc_es, aes(normalised_date, sentiment)) + geom_line() + xlab("") + ylab("variation of average daily sentiment\n main business associations Spain")
ggplot(asoc_pe, aes(normalised_date, sentiment)) + geom_line() + xlab("") + ylab("variation of average daily sentiment\n main business associations Peru")
ggplot(empresas_es, aes(normalised_date, sentiment)) + geom_line() + xlab("") + ylab("variation of average daily sentiment\n main companies Spain")
ggplot(empresas_pe, aes(normalised_date, sentiment)) + geom_line() + xlab("") + ylab("variation of average daily sentiment\n main companies Peru")
ggplot(asoc_es, aes(normalised_date, sentiment)) + geom_line() + xlab("") + ylab("variation of average daily sentiment\n main business associations Spain")
ggplot(asoc_pe, aes(normalised_date, sentiment)) + geom_line() + xlab("") + ylab("variation of average daily sentiment\n main business associations Peru")
ggplot(empresas_pe, aes(normalised_date, sentiment)) + geom_line() + xlab("") + ylab("variation of average daily sentiment\n main companies Peru")
ggplot(empresas_es, aes(normalised_date, sentiment)) + geom_line() + xlab("") + ylab("variation of average daily sentiment\n main companies Spain")
stocks_peru <- read.csv("./data/pe_bvl_mean_day.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
stocks_spain <- read.csv("./data/es_mse_mean_day.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
View(stocks_peru)
stocks_peru$date <- ymd(stocks_peru$date)
stocks_peru$date <- as.Date(stocks_peru$date , format = "%m/%d/%y")
setwd("/Users/hugojosebello/Documents/git-repos/twitter-data-scripts-analysis/")
asoc_es <- read.csv("./data/grouped_data_day_mean_tweets_sentimentdata-scraper_asociaciones_2016-2020.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
asoc_es$sentiment = append(0,diff(asoc_es$sentiment))
empresas_es <- read.csv("./data/grouped_data_day_mean_tweets_sentimentdata-scraper_ibex_2018-2020.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
empresas_es$sentiment = append(0,diff(empresas_es$sentiment))
asoc_pe <- read.csv("./data/grouped_data_day_mean_tweets_sentimentdata-scraper_asociaciones_peru-2016-2020.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
asoc_pe$sentiment = append(0,diff(asoc_pe$sentiment))
empresas_pe <- read.csv("./data/grouped_data_day_mean_tweets_sentimentdata-scraper_empresas_peru_2017-2020.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
empresas_pe$sentiment = append(0,diff(empresas_pe$sentiment))
stocks_peru <- read.csv("./data/pe_bvl_mean_day.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
stocks_spain <- read.csv("./data/es_mse_mean_day.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
library(lubridate)
stocks_peru$date <- as.Date(stocks_peru$date , format = "%m/%d/%y")
stocks_peru$date <- ymd(stocks_peru$date)
stocks_spain$date <- as.Date(stocks_spain$date , format = "%m/%d/%y")
stocks_spain$date <- ymd(stocks_spain$date)
install.packages("gtools")
#install.packages("gtools")
library(gtools)
smartbind(empresas_es, asoc_es)
a <- smartbind(empresas_es, asoc_es)
setwd("/Users/hugojosebello/Documents/git-repos/twitter-data-scripts-analysis/")
asoc_es <- read.csv("./data/grouped_data_day_mean_tweets_sentimentdata-scraper_asociaciones_2016-2020.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
asoc_es$sentiment = append(0,diff(asoc_es$sentiment))
empresas_es <- read.csv("./data/grouped_data_day_mean_tweets_sentimentdata-scraper_ibex_2018-2020.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
empresas_es$sentiment = append(0,diff(empresas_es$sentiment))
asoc_pe <- read.csv("./data/grouped_data_day_mean_tweets_sentimentdata-scraper_asociaciones_peru-2016-2020.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
asoc_pe$sentiment = append(0,diff(asoc_pe$sentiment))
empresas_pe <- read.csv("./data/grouped_data_day_mean_tweets_sentimentdata-scraper_empresas_peru_2017-2020.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
empresas_pe$sentiment = append(0,diff(empresas_pe$sentiment))
stocks_peru <- read.csv("./data/pe_bvl_mean_day.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
stocks_spain <- read.csv("./data/es_mse_mean_day.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
library(lubridate)
stocks_peru$normalised_date <- as.Date(stocks_peru$date , format = "%m/%d/%y")
stocks_peru$normalised_date <- ymd(stocks_peru$date)
stocks_spain$normalised_date <- as.Date(stocks_spain$date , format = "%m/%d/%y")
stocks_spain$normalised_date <- ymd(stocks_spain$date)
a <- smartbind(empresas_es, asoc_es)
a <- bind_rows(empresas_es, asoc_es)
a <- merge(empresas_es, asoc_es, by.x="normalised_date", by.y="normalised_date")
a <- merge(empresas_es, asoc_es, by.x="normalised_date", by.y="date")
setwd("/Users/hugojosebello/Documents/git-repos/twitter-data-scripts-analysis/")
asoc_es <- read.csv("./data/grouped_data_day_mean_tweets_sentimentdata-scraper_asociaciones_2016-2020.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
asoc_es$sentiment = append(0,diff(asoc_es$sentiment))
empresas_es <- read.csv("./data/grouped_data_day_mean_tweets_sentimentdata-scraper_ibex_2018-2020.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
empresas_es$sentiment = append(0,diff(empresas_es$sentiment))
asoc_pe <- read.csv("./data/grouped_data_day_mean_tweets_sentimentdata-scraper_asociaciones_peru-2016-2020.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
asoc_pe$sentiment = append(0,diff(asoc_pe$sentiment))
empresas_pe <- read.csv("./data/grouped_data_day_mean_tweets_sentimentdata-scraper_empresas_peru_2017-2020.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
empresas_pe$sentiment = append(0,diff(empresas_pe$sentiment))
stocks_peru <- read.csv("./data/pe_bvl_mean_day.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
stocks_spain <- read.csv("./data/es_mse_mean_day.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
library(lubridate)
stocks_peru$date <- as.Date(stocks_peru$date , format = "%m/%d/%y")
stocks_peru$date <- ymd(stocks_peru$date)
stocks_spain$date <- as.Date(stocks_spain$date , format = "%m/%d/%y")
stocks_spain$date <- ymd(stocks_spain$date)
#install.packages("gtools")
library(gtools)
a <- merge(empresas_es, asoc_es, by.x="normalised_date", by.y="date")
setwd("/Users/hugojosebello/Documents/git-repos/twitter-data-scripts-analysis/")
asoc_es <- read.csv("./data/grouped_data_day_mean_tweets_sentimentdata-scraper_asociaciones_2016-2020.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
asoc_es$sentiment = append(0,diff(asoc_es$sentiment))
empresas_es <- read.csv("./data/grouped_data_day_mean_tweets_sentimentdata-scraper_ibex_2018-2020.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
empresas_es$sentiment = append(0,diff(empresas_es$sentiment))
asoc_pe <- read.csv("./data/grouped_data_day_mean_tweets_sentimentdata-scraper_asociaciones_peru-2016-2020.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
asoc_pe$sentiment = append(0,diff(asoc_pe$sentiment))
empresas_pe <- read.csv("./data/grouped_data_day_mean_tweets_sentimentdata-scraper_empresas_peru_2017-2020.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
empresas_pe$sentiment = append(0,diff(empresas_pe$sentiment))
stocks_peru <- read.csv("./data/pe_bvl_mean_day.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
stocks_spain <- read.csv("./data/es_mse_mean_day.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
library(lubridate)
stocks_peru$date <- as.Date(stocks_peru$date , format = "%m/%d/%y")
stocks_peru$date <- ymd(stocks_peru$date)
stocks_spain$date <- as.Date(stocks_spain$date , format = "%m/%d/%y")
stocks_spain$date <- ymd(stocks_spain$date)
#install.packages("gtools")
library(gtools)
a <- merge(empresas_es, asoc_es, by.x="normalised_date", by.y="date")
data_es <- read.csv("./data/df_total_es.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
data_pe <- read.csv("./data/df_total_pe.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
data_pe$normalised_date <- ymd(data_pe$normalised_date)
data_es$normalised_date <- ymd(data_es$normalised_date)
ccf(data_es$sentiment_asociacones, madrid_change)
ccf(data_es$sentiment_asociacones, data_es$madrid_change)
ccf(data_pe$sentiment_asociacones, data_pe$peru_change)
ccf(data_es$sentiment_ibex, data_es$madrid_change)
ccf(data_pe$sentiment_asociacones, data_pe$peru_change)
ccf(data_pe$sentiment_empresas, data_es$peru_change)
ccf(data_pe$sentiment_empresas, data_es$peru_change)
data_pe<-data_pe[data_pe$normalised_date <= "2020-01-01",]
data_es<-data_es[data_es$normalised_date <= "2020-01-01",]
ccf(data_es$sentiment_asociacones, data_es$madrid_change)
ccf(data_es$sentiment_ibex, data_es$madrid_change)
ccf(data_pe$sentiment_asociacones, data_pe$peru_change)
ccf(data_pe$sentiment_empresas, data_es$peru_change)
ccf(data_es$sentiment_asociacones, data_es$madrid_change)
ccf(data_es$sentiment_ibex, data_es$madrid_change)
ccf(data_pe$sentiment_asociacones, data_pe$peru_change)
ccf(data_pe$sentiment_empresas, data_es$peru_change)
ccf(data_pe$sentiment_asociacones, data_pe$peru_change)
ccf(data_pe$sentiment_empresas, data_pe$peru_change)
ccf(data_es$sentiment_asociacones, data_es$madrid_change)
ccf(data_es$sentiment_ibex, data_es$madrid_change)
ccf(data_pe$sentiment_asociacones, data_pe$peru_change)
ccf(data_pe$sentiment_empresas, data_pe$peru_change)
ccf(data_es$sentiment_asociacones, data_es$sentiment_ibex)
madrid_change
ccf(data_es$sentiment_asociacones, data_es$madrid_change)
setwd("/Users/hugojosebello/Documents/git-repos/twitter-data-scripts-analysis/")
asoc_es <- read.csv("./data/grouped_data_day_mean_tweets_sentimentdata-scraper_asociaciones_2016-2020.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
asoc_es$sentiment_diff = append(0,diff(asoc_es$sentiment))
empresas_es <- read.csv("./data/grouped_data_day_mean_tweets_sentimentdata-scraper_ibex_2018-2020.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
empresas_es$sentiment_diff = append(0,diff(empresas_es$sentiment))
asoc_pe <- read.csv("./data/grouped_data_day_mean_tweets_sentimentdata-scraper_asociaciones_peru-2016-2020.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
asoc_pe$sentiment_diff = append(0,diff(asoc_pe$sentiment))
empresas_pe <- read.csv("./data/grouped_data_day_mean_tweets_sentimentdata-scraper_empresas_peru_2017-2020.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
empresas_pe$sentiment_diff = append(0,diff(empresas_pe$sentiment))
stocks_peru <- read.csv("./data/pe_bvl_mean_day.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
stocks_spain <- read.csv("./data/es_mse_mean_day.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
data_es <- read.csv("./data/df_total_es.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
data_pe <- read.csv("./data/df_total_pe.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
ggplot(asoc_es, aes(normalised_date, sentiment_diff)) + geom_line() + xlab("") + ylab("variation of average daily sentiment\n main business associations Spain")
setwd("/Users/hugojosebello/Documents/git-repos/twitter-data-scripts-analysis/")
asoc_es <- read.csv("./data/grouped_data_day_mean_tweets_sentimentdata-scraper_asociaciones_2016-2020.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
asoc_es$sentiment_diff = append(0,diff(asoc_es$sentiment))
empresas_es <- read.csv("./data/grouped_data_day_mean_tweets_sentimentdata-scraper_ibex_2018-2020.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
empresas_es$sentiment_diff = append(0,diff(empresas_es$sentiment))
asoc_pe <- read.csv("./data/grouped_data_day_mean_tweets_sentimentdata-scraper_asociaciones_peru-2016-2020.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
asoc_pe$sentiment_diff = append(0,diff(asoc_pe$sentiment))
empresas_pe <- read.csv("./data/grouped_data_day_mean_tweets_sentimentdata-scraper_empresas_peru_2017-2020.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
empresas_pe$sentiment_diff = append(0,diff(empresas_pe$sentiment))
stocks_peru <- read.csv("./data/pe_bvl_mean_day.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
stocks_spain <- read.csv("./data/es_mse_mean_day.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
data_es <- read.csv("./data/df_total_es.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
data_pe <- read.csv("./data/df_total_pe.csv",  header=TRUE, sep=";", stringsAsFactors = TRUE)
library(lubridate)
stocks_peru$date <- as.Date(stocks_peru$date , format = "%m/%d/%y")
stocks_peru$date <- ymd(stocks_peru$date)
stocks_spain$date <- as.Date(stocks_spain$date , format = "%m/%d/%y")
stocks_spain$date <- ymd(stocks_spain$date)
#install.packages("gtools")
library(gtools)
a <- bind_rows(empresas_es, asoc_es)
a <- merge(empresas_es, asoc_es, by.x="normalised_date", by.y="date")
asoc_es$normalised_date <- ymd(asoc_es$normalised_date)
data_pe$normalised_date <- ymd(data_pe$normalised_date)
data_es$normalised_date <- ymd(data_es$normalised_date)
empresas_es$normalised_date <- ymd(empresas_es$normalised_date)
asoc_pe$normalised_date <- ymd(asoc_pe$normalised_date)
empresas_pe$normalised_date <- ymd(empresas_pe$normalised_date)
empresas_es<-empresas_es[empresas_es$normalised_date >= "2017-07-01",]
empresas_pe<-empresas_pe[empresas_pe$normalised_date >= "2017-07-01",]
asoc_pe<-asoc_pe[asoc_pe$normalised_date >= "2017-07-01",]
asoc_es<-asoc_es[asoc_es$normalised_date >= "2017-07-01",]
ggplot(asoc_es, aes(normalised_date, sentiment_diff)) + geom_line() + xlab("") + ylab("variation of average daily sentiment\n main business associations Spain")
ggplot(asoc_pe, aes(normalised_date, sentiment_diff)) + geom_line() + xlab("") + ylab("variation of average daily sentiment\n main business associations Peru")
ggplot(asoc_es, aes(normalised_date, sentiment)) + geom_line() + xlab("") + ylab("variation of average daily sentiment\n main business associations Spain")
ggplot(asoc_pe, aes(normalised_date, sentiment)) + geom_line() + xlab("") + ylab("variation of average daily sentiment\n main business associations Peru")
ggplot(empresas_es, aes(normalised_date, sentiment)) + geom_line() + xlab("") + ylab("variation of average daily sentiment\n main companies Spain")
ggplot(empresas_pe, aes(normalised_date, sentiment)) + geom_line() + xlab("") + ylab("variation of average daily sentiment\n main companies Peru")
ts_a = ts(asoc_es$sentiment, frequency = 12)
decompose_ts = decompose(ts_a, "additive")
plot(decompose_ts)
ts_a = ts(asoc_es$sentiment, frequency = 30)
decompose_ts = decompose(ts_a, "additive")
plot(decompose_ts)
ts_a = ts(asoc_pe$sentiment, frequency = 30)
decompose_ts = decompose(ts_a, "additive")
plot(decompose_ts)
ts_a = ts(empresas_es$sentiment, frequency = 30)
decompose_ts = decompose(ts_a, "additive")
plot(decompose_ts)
ts_a = ts(empresas_pe$sentiment, frequency = 30)
decompose_ts = decompose(ts_a, "additive")
plot(decompose_ts)
ts_a = ts(asoc_es$sentiment, frequency = 30)
decompose_ts_asoc_es = decompose(ts_a, "additive")
plot(decompose_ts)
ts_a = ts(asoc_pe$sentiment, frequency = 30)
decompose_ts_asoc_pe = decompose(ts_a, "additive")
plot(decompose_ts)
ts_a = ts(empresas_es$sentiment, frequency = 30)
decompose_ts_empresas_es = decompose(ts_a, "additive")
plot(decompose_ts)
ts_a = ts(empresas_pe$sentiment, frequency = 30)
decompose_ts_empresas_pe = decompose(ts_a, "additive")
plot(decompose_ts)
ts_asoc_es = ts(asoc_es$sentiment, frequency = 30)
decompose_ts_asoc_es = decompose(ts_a, "additive")
plot(decompose_ts)
ts_asoc_es = ts(asoc_es$sentiment, frequency = 30)
decompose_ts_asoc_es = decompose(ts_asoc_es, "additive")
plot(decompose_ts_asoc_es)
ts_asoc_pe = ts(asoc_pe$sentiment, frequency = 30)
decompose_ts_asoc_pe = decompose(ts_asoc_pe, "additive")
plot(decompose_ts_asoc_pe)
plot(decompose_ts_asoc_es$trend)
ccf(decompose_ts_asoc_es$trend, data_es$madrid_change)
plot(decompose_ts_asoc_es$seasonal)
plot(decompose_ts_asoc_es$trend)
ts_asoc_es = ts(asoc_es$sentiment, frequency = 7)
decompose_ts_asoc_es = decompose(ts_asoc_es, "additive")
plot(decompose_ts_asoc_es)
ts_asoc_pe = ts(asoc_pe$sentiment, frequency = 7)
decompose_ts_asoc_pe = decompose(ts_asoc_pe, "additive")
plot(decompose_ts_asoc_pe)
ts_empresas_es = ts(empresas_es$sentiment, frequency = 7)
decompose_ts_empresas_es = decompose(ts_empresas_es, "additive")
plot(decompose_ts_empresas_es)
ts_empresas_pe = ts(empresas_pe$sentiment, frequency = 7)
decompose_ts_empresas_pe = decompose(ts_empresas_pe, "additive")
plot(decompose_ts_empresas_pe)
trend
ccf(decompose_ts_asoc_es$trend, data_es$madrid_change)
setwd("/Users/hugojosebello/Documents/git-repos/data-tuning-scripts-v2/r_scripts_analysis")
all_data <- read.csv("./all.csv",  header=TRUE, sep=";")
all_hombres <- read.csv("./all_hombres.csv",  header=TRUE, sep=";")
all_mujeres <- read.csv("./all_mujeres.csv",  header=TRUE, sep=";")
all_moved <- read.csv("./all_moved.csv",  header=TRUE, sep=";")
r <- with(all_moved, which(noticias_suicidio>270, arr.ind=TRUE))
all_moved <- all_moved[-r, ]
r <- with(all_data, which(noticias_suicidio>270, arr.ind=TRUE))
all_data <- all_data[-r, ]
# Installation
# install.packages('ggplot2')
# Loading
library(ggplot2)
#ine_data$month_code<- as.Date(ine_data$month_code , "%Y/%m/%d")
#install.packages('lubridate')
library(lubridate)
all_data$month <- ymd(all_data$month)
all_data_minus5 = all_data
all_data_minus5$month <- all_data_minus5$month - days(5 *30)
ggplot(all_data, aes(month, noticias_suicidio)) + geom_line() + xlab("") + ylab("Amount of suicide news (per month)")
ggplot(all_data, aes(month, -media_sentimiento_noticias)) + geom_line() + xlab("") + ylab("Average negative sentiment of news")+
+ ggplot(all_moved, aes(month, suicidios_3_meses_despues)) + geom_line() + xlab("") + ylab("Average negative sentiment of news")
ggplot(all_data, aes(month, -sentiment_analysis_score)) + geom_line() + xlab("") + ylab("Score noticias suicidio")
ccf(all_data$noticias_suicidio, all_hombres$suicidios,main="Correlation function: number of suicide news per month\n agaist number of suicides per moth")
cor(all_data$noticias_suicidio, all_data$suicidios)
cor.test(all_moved$noticias_suicidio, all_moved$suicidios_5_meses_despues)
cor.test(all_moved$media_sentimiento_noticias, -all_moved$suicidios_5_meses_despues)
# men and women not significative differences
ccf(all_hombres$noticias_suicidio, all_hombres$suicidios)
cor.test(-all_data$sentiment_analysis_score, all_data$suicidios)
ccf(-all_data$media_sentimiento_noticias, all_data$suicidios)
